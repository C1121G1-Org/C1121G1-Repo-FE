<div class="card card-body" style="border: hidden">
  <h3 class="text-center font-weight-bold text-uppercase  py-4">
    Quản Lý Nhân Viên
  </h3>
</div>


<div class="card card-body">
  <div id="table" class="table-editable">
    <div style="display: flex; justify-content: space-between">
      <div style="display: flex; justify-content: space-between">
        <div>
          <input #names [ngModel]="name" style="width: 300px" class="header-search search-input background-search"
                 placeholder="Bạn cần tìm gì?"
                 type="text"><i
          class="fa fa-search"
          style="position: absolute; left: 35px;margin-top: 10px ;font-size: 20px"></i>
        </div>
        <div style="margin-left: 20px">
          <button class="btn-search btn-rounded  btn-sm my-0" style="width: 100px; height: 35px" (click)="search(names.value)">Tìm
            kiếm
          </button>
        </div>
      </div>

      <div style="margin-bottom: 10px">
        <a style="text-decoration: none" routerLink="/employee/create">
          <button style="display: flex; justify-content: center; align-items: center" type="button" data-toggle="modal" data-target="#myModal1"
                  class="btn btn-grad-blue">
            THÊM MỚI
          </button>
        </a>
      </div>
    </div>


    <!--      thông báo lỗi khi không có dữ liệu-->
    <div *ngIf="message">
      <div class="tbl-header">
        <table class="table table-bordered table-responsive-md ">
          <thead>
          <tr>
            <th class="text-center">STT</th>
            <th class="text-center">Họ và tên</th>
            <th class="text-center">Ngày sinh</th>
            <th class="text-center">Địa chỉ</th>
            <th class="text-center">Công việc</th>
            <th class="text-center">Số điện thoại</th>
          </tr>
          </thead>
        </table>
      </div>
      <div class="tbl-content   ">
        <table class=" table table-bordered table-responsive-md">
          <tbody>
          <tr>
            <td style="text-align: center ; color: #D70018; font-size: 20px ; padding-bottom: 350px">
              Không tìm thấy dữ liệu
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>


    <div *ngIf="!message">
      <div class="tbl-header">
        <table class="table table-bordered table-responsive-md ">
          <thead>
          <tr>
            <th class="text-center"><b>STT</b></th>
            <th class="text-center"><b>Họ và tên</b></th>
            <th class="text-center"><b>Ngày sinh</b></th>
            <th class="text-center"><b>Địa chỉ</b></th>
            <th class="text-center"><b>Công việc</b></th>
            <th class="text-center"><b>Số điện thoại</b></th>
          </tr>
          </thead>
        </table>
      </div>
      <div class="tbl-content   ">
        <table class=" table table-bordered table-responsive-md">
          <tbody>
          <tr *ngFor="let e of employees; index as i; let j = index" routerLink=" active"
              (click)="activeProject(j, e.id, e.name)"
              [ngStyle]="{'background-color': activeProjectIndex === j ? 'pink' : 'white'}">
            <td class="text-center">{{i + 1}}</td>
            <td>{{e.name}}</td>
            <td class="text-center">{{e.dateOfBirth}}</td>
            <td>{{e.address}}</td>
            <td>{{e.namePosition}}</td>
            <td class="text-center">{{e.phoneNumber}}</td>
          </tr>
          </tbody>
        </table>
      </div>
      <br>

      <div style="display: flex; justify-content: space-between">
        <div style="display: flex; justify-content: space-between; margin-top: 10px">
          <a style="text-decoration: none" routerLink="/employee/edit/{{idClick}}">
          <button style="display: flex; justify-content: center; align-items: center" type="button" data-toggle="modal" data-target="#myModal1"
                  class="btn btn-grad-blue">
            <i class="fa fa-paper-plane"></i> Sửa
          </button>
          </a>

          <button style="display: flex; justify-content: center; align-items: center" type="button" (click)="idClick" class="btn btn-grad-red mx-2" data-toggle="modal" data-target="#exampleModal">
            <i class="fa fa-trash"></i> Xoá
          </button>
        </div>

        <!--Pagination-->
        <div class="d-flex">
          <nav class="mt-2" aria-label="...">
            <ul class="pagination">
              <li class="page-item">
                <button [disabled]="page<=0" class="page-link" (click)="previous()">Previous</button>
              </li>
              <li class="page-item active" aria-current="page">
                <span class="page-link">{{page + 1}}</span>
              </li>
              <li class="page-item">
                <a class="page-link">{{totalPages}}</a>
              </li>
              <li class="page-item">
                <button [disabled]="page>=totalPages-1" class="page-link" (click)="next()">Next</button>
              </li>
            </ul>
          </nav>
        </div>
        <!--Pagination-->
      </div>

    </div>
  </div>
</div>


<!--Modal delete-->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #D70018; color: white">
        <h5 class="modal-title" id="exampleModalLabel">Xác nhận xóa nhân viên.</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Bạn có chắc chắn muốn xóa nhân viên có tên là : <span style="font-weight: bold">{{nameDelete}}</span> không?
        <p>Lưu ý: Hành động này không thể hoàn tác!</p>
      </div>
      <div class="modal-footer">
        <button #closeModal type="button" class="btn btn-danger" data-dismiss="modal" style="margin-right: 10px;height: 30px; display: flex; justify-content: center; align-items: center">Huỷ<i class="bi bi-file-x"></i>
        </button>
        <button (click)="delete(closeModal)" type="button" class="btn btn-primary" style="height: 30px; display: flex; justify-content: center; align-items: center">Xóa<i
          class="fa fa-paper-plane"></i></button>
      </div>
    </div>
  </div>
</div>
<!--Modal delete-->
