<!--  Created by TuanNQ-->
<!--  Time: 11:00 02/06/2022-->
<!--  Function: Show detail purchase history-->
<link rel="stylesheet" href="purchase-history.component.css">
<div class="card card-body">
  <h3 style="text-align: center">Lịch sử mua hàng</h3>
</div>

<div>

  <div class="row row1" style="padding-right: 40px; margin-top: 15px">
    <div class="col-md-4">
      <strong>
        <label>Họ và tên: </label>
        <span> {{customerReport.name}}</span>
      </strong>
    </div>

    <div class="col-md-4">
      <strong>
        <label>Email: </label>
        <span> {{customerReport.email}}</span>
      </strong>
    </div>
  </div>

  <div class="row row1" style="padding-right: 40px; margin-top: 15px">
    <div class="col-md-4">
      <strong>
        <label>Giới tính: </label>
        <span *ngIf="customerReport.gender == false"> Nữ</span>
        <span *ngIf="customerReport.gender == true"> Nam</span>
      </strong>
    </div>

    <div class="col-md-4">
      <strong>
        <label>Số điện thoại: </label>
        <span> {{customerReport.phoneNumber}}</span>
      </strong>
    </div>

    <div class="col-md-4">
      <strong>
        <label>Ngày sinh: </label>
        <span> {{customerReport.dateOfBirth}}</span>
      </strong>
    </div>
  </div>

  <div class="row row1" style="padding-right: 40px; margin-top: 15px">
    <div class="col-md-4">
      <strong>
        <label>Số lượng đơn hàng: </label>
        <span> {{customerReport.purchaseTimes}}</span>
      </strong>
    </div>
  </div>


  <!--  <div>-->
  <!--    <div class="input-group mb-3 col-2">-->
  <!--      <input type="text" class="form-control" aria-label="Sizing example input"-->
  <!--             aria-describedby="inputGroup-sizing-default" placeholder="Search by product name">-->
  <!--    </div>-->

  <!--    <div class="col">-->
  <!--      <button type="button" class="btn btn-primary">Tìm kiếm</button>-->
  <!--    </div>-->
  <!--  </div>-->

  <!--  <br>-->

  <div>
    <h5>Chi tiết lịch sử mua hàng: </h5>

    <div class="tbl-header">
      <table class="table table-bordered table-responsive-md">
        <thead>
        <tr>
          <th class="text-center" scope="col">STT</th>
          <th class="text-center" scope="col">Ngày mua</th>
          <th class="text-center" scope="col">Sản phẩm mua</th>
          <th class="text-center" scope="col">Số tiền (VND)</th>
        </tr>
        </thead>
      </table>
    </div>

    <div class="tbl-content">
      <table class="table table-bordered table-responsive-md">
        <tbody>

        <tr *ngFor="let purchaseHitory of purchaseHistories, index as i">
          <td class="text-center">{{i + 1}}</td>
          <td class="text-center">{{purchaseHitory.purchaseDate}}</td>
          <td class="text-center">
            <button type="button" class="btn btn-primary" data-toggle="modal"
                    data-target="#deleteModal"
                    (click)="getPurchaseProduct(purchaseHitory.id)">Xem chi tiết
            </button>
          </td>
          <td class="text-center">{{purchaseHitory.totalMoney | currency: "VND"}}</td>
        </tr>

        </tbody>
      </table>

      <!--Pagination-->
      <!--      <nav class="d-flex justify-content-center wow fadeIn" style="float:right;">-->
      <!--        <ul class="pagination pg-blue">-->

      <!--          &lt;!&ndash;Arrow left&ndash;&gt;-->
      <!--          <li class="page-item disabled">-->
      <!--            <a class="page-link" href="#" aria-label="Previous">-->
      <!--              <span aria-hidden="true">&laquo;</span>-->
      <!--              <span class="sr-only">Previous</span>-->
      <!--            </a>-->
      <!--          </li>-->

      <!--          <li class="page-item active">-->
      <!--            <a class="page-link" href="#">1-->
      <!--              <span class="sr-only">(current)</span>-->
      <!--            </a>-->
      <!--          </li>-->
      <!--          <li class="page-item">-->
      <!--            <a class="page-link" href="#">2</a>-->
      <!--          </li>-->
      <!--          <li class="page-item">-->
      <!--            <a class="page-link" href="#">3</a>-->
      <!--          </li>-->
      <!--          <li class="page-item">-->
      <!--            <a class="page-link" href="#">4</a>-->
      <!--          </li>-->
      <!--          <li class="page-item">-->
      <!--            <a class="page-link" href="#">5</a>-->
      <!--          </li>-->

      <!--          <li class="page-item">-->
      <!--            <a class="page-link" href="#" aria-label="Next">-->
      <!--              <span aria-hidden="true">&raquo;</span>-->
      <!--              <span class="sr-only">Next</span>-->
      <!--            </a>-->
      <!--          </li>-->
      <!--        </ul>-->
      <!--      </nav>-->
      <!--Pagination-->

      <div class="col-12" style="display: flex; justify-content: flex-end; padding-right: 20px">
        <a type="button" class="btn btn-outline-info" (click)="previousPage()"
           [hidden]="pageNumber == 0">Previous</a>
        <span>{{pageNumber + 1}}</span>/<span>{{totalPages}}</span>
        <a type="button" class="btn btn-outline-info" (click)="nextPage()"
           [hidden]="pageNumber == totalPages - 1">Next</a>
      </div>

      <div style="text-align: center" class="container col-6">
        <button type="button" style="display: inline-block" class="btn btn-primary"
                [routerLink]="['/report/customer-report']">Quay lại
        </button>
      </div>
    </div>
  </div>
</div>


<!-- Delete Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">

      <div>
        <h5>Sản phẩm đã mua trong đơn hàng: </h5>

        <div class="tbl-header">
          <table class="table table-bordered table-responsive-md">
            <thead>
            <tr>
              <th class="text-center" scope="col">STT</th>
              <th class="text-center" scope="col">Tên sản phẩm</th>
              <th class="text-center" scope="col">Số lượng</th>
            </tr>
            </thead>
          </table>
        </div>

        <div class="tbl-content">
          <table class="table table-bordered table-responsive-md">
            <tbody>

            <tr *ngFor="let purchaseProduct of purchaseProducts, index as i">
              <td class="text-center">{{i + 1}}</td>
              <td class="text-center">{{purchaseProduct.productName}}</td>
              <td class="text-center">{{purchaseProduct.quantity}}</td>
            </tr>

            </tbody>
          </table>

          <div class="col-12" style="display: flex; justify-content: flex-end; padding-right: 20px">
            <a type="button" class="btn btn-outline-info" (click)="productPreviousPage()"
               [hidden]="productPageNumber == 0">Previous</a>
            <span>{{productPageNumber + 1}}</span>/<span>{{productTotalPages}}</span>
            <a type="button" class="btn btn-outline-info" (click)="productNextPage()"
               [hidden]="productPageNumber == productTotalPages - 1">Next</a>
          </div>

        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
